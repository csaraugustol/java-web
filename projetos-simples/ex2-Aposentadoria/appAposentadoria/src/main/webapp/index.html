<!doctype html>
<html lang="pt-br">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
        <link rel="icon" href="img/icone.png"/>
        
        <title>Previdência</title>
    </head>
    <body class="bg-info" style="font-size: 1.2em; background-image: url('img/fundo.jpg');  background-repeat: no-repeat; background-attachment: fixed; background-size: cover;">


        <div class="container w-25 mt-3 col-md-6">
            <div class="card">
                <div class="card-body bg-primary text-center text-light font-weight-bold">

                    <form method="POST" action="resultado">

                        <div class="form-group">
                            <label for="cpNome">Nome</label><br>
                            <input class="form-control text-center" name="cpNome" id="cpNome" type="text" placeholder="Seu nome completo">
                        </div>
                        <div class="form-group">
                            <label for="cpIdade">Idade</label><br>
                            <input class="form-control text-center" name="cpIdade" id="cpIdade" type="text" placeholder="Sua idade">
                        </div>
                        <div class="form-group">
                            <label for="cpTempo">Tempo de Trabalho</label><br>
                            <input class="form-control text-center" name="cpTempo" id="cpTempo" type="text" placeholder="Anos trabalhados">
                        </div>

                        <div class="form-group">
                            <input class="btn btn-warning text-center mt-4 col-md-4" value="Verificar" name="btn" id="btn" style="cursor: pointer">
                        </div>

                        <div class="form-group">
                            <input type="text" id="resultado" class="form-control mt-5 text-center" disabled placeholder="RESULTADO">
                        </div>

                        <div class="form-group">
                            <input class="btn btn-light btn-outline-warning text-center text-dark mt-1 col-md-4" value="Limpar" name="btnLimpar" id="btn" style="cursor: pointer" onclick="limparCampos()">
                        </div>

                    </form>

                </div>
            </div>
        </div>


        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

        <script>

                                $("#btn").on("click", function () {

                                    console.log("click no botão");

                                    $.ajax({
                                        url: "/appAposentadoria/resultado",
                                        type: 'POST',
                                        data: {
                                            cpNome: $("#cpNome").val(),
                                            cpIdade: $("#cpIdade").val(),
                                            cpTempo: $("#cpTempo").val()
                                        },
                                        error: function () {
                                            console.log("deu erro");
                                        },
                                        success: function (data, textStatus, jqXHR) {
                                            console.log("werwer: " + data);


                                            let result = data;
                                            $('#resultado').val(result);
                                        },

                                    });

                                });

                                function limparCampos() {
                                    document.getElementById("cpNome").value = "";
                                    document.getElementById("cpIdade").value = "";
                                    document.getElementById("cpTempo").value = "";
                                    document.getElementById("resultado").value = "";

                                }
        </script>
    </body>
</html>
